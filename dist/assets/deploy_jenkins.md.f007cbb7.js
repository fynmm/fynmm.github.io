import{_ as s,o as n,c as a,S as e}from"./chunks/framework.f15d8f8c.js";const l="/assets/image.190bce4a.png",p="/assets/image-1.b3234668.png",i="/assets/image-2.17310729.png",c="/assets/image-4.b92e10c5.png",t="/assets/image-3.81d3b1de.png",o="/assets/image-5.0d343663.png",r="/assets/image-6.1c564800.png",_=JSON.parse('{"title":"Docker安装Jenkins","description":"Docker,Docker安装,Jenkin,Jenkins安装","frontmatter":{"lang":"zh-CN","title":"Docker安装Jenkins","description":"Docker,Docker安装,Jenkin,Jenkins安装"},"headers":[],"relativePath":"deploy/jenkins.md","filePath":"deploy/jenkins.md"}'),m={name:"deploy/jenkins.md"},d=e('<h1 id="docker安装jenkins" tabindex="-1">Docker安装Jenkins <a class="header-anchor" href="#docker安装jenkins" aria-label="Permalink to &quot;Docker安装Jenkins&quot;">​</a></h1><h2 id="docker安装" tabindex="-1">Docker安装 <a class="header-anchor" href="#docker安装" aria-label="Permalink to &quot;Docker安装&quot;">​</a></h2><div class="tip custom-block"><p class="custom-block-title">第一步</p><p>以腾讯云服务器为例 打开腾讯云服务器后台 点击&quot;登录&quot;</p></div><p><img src="'+l+'" alt="Alt text"></p><div class="tip custom-block"><p class="custom-block-title">第二步</p><p>然后选密码登录以root的方式进行登录，后面需要安装Docker等，不用root可能没有权限。</p></div><p><img src="'+p+`" alt="Alt text"></p><div class="tip custom-block"><p class="custom-block-title">第三步</p><p>安装Docker</p></div><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">// 更新yum</span></span>
<span class="line"><span style="color:#A6ACCD;">yum update</span></span>
<span class="line"><span style="color:#A6ACCD;">yum install epel-release -y</span></span>
<span class="line"><span style="color:#A6ACCD;">yum clean all</span></span>
<span class="line"><span style="color:#A6ACCD;">yum list</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 安装docker</span></span>
<span class="line"><span style="color:#A6ACCD;">yum install docker-io -y</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 启动docker</span></span>
<span class="line"><span style="color:#A6ACCD;">systemctl start docker</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">// 验证是否成功</span></span>
<span class="line"><span style="color:#A6ACCD;">docker version</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="jenkins安装" tabindex="-1">Jenkins安装 <a class="header-anchor" href="#jenkins安装" aria-label="Permalink to &quot;Jenkins安装&quot;">​</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">// 安装并启动jenkins</span></span>
<span class="line"><span style="color:#A6ACCD;">docker run -d -p 8080:8080 -p 50000:50000 -v /var/jenkins_mount:/var/jenkins_home -v /etc/localtime:/etc/localtime --name myjenkins jenkins/jenkins</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">参数说明</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">-d 后台运行镜像 </span></span>
<span class="line"><span style="color:#A6ACCD;">-p  8080:8080 将镜像的8080端口映射到服务器的8080端口</span></span>
<span class="line"><span style="color:#A6ACCD;">-p  50000:50000  将镜像的50000端口映射到服务器的50000端口</span></span>
<span class="line"><span style="color:#A6ACCD;">-v  /var/jenkins_mount:/var/jenkins_home     </span></span>
<span class="line"><span style="color:#A6ACCD;">/var/jenkins_home目录为容器Jenkins的工作目录，我们将硬盘上的一个目录挂载到这个位置，</span></span>
<span class="line"><span style="color:#A6ACCD;">方便后续更新镜像后使用原来的工作目录。这里我们设置的就是上面创建的/var/jenkins_mount目录</span></span>
<span class="line"><span style="color:#A6ACCD;">-v   /etc/localtime:/etc/localtime  让容器使用和服务器同样的时间设置</span></span>
<span class="line"><span style="color:#A6ACCD;">--name   myjenkins  给容器起一个别名</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>输入之后会终端会返回一串字符串，记住这串字符串，后续会用到</p></div><h2 id="配置jenkins" tabindex="-1">配置Jenkins <a class="header-anchor" href="#配置jenkins" aria-label="Permalink to &quot;配置Jenkins&quot;">​</a></h2><p>打开<code>http://\${你的服务器IP}:8080</code>，出现让你解锁jenkins界面， <img src="`+i+'" alt="Alt text"></p><div class="tip custom-block"><p class="custom-block-title">激活jenkins</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">docker logs container-id  //container-id就是刚才的字符串</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><div class="tip custom-block"><p class="custom-block-title">寻找密码并填写</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">如下图找到这一段，然后填写。</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><p><img src="'+c+'" alt="Alt text"></p><p><img src="'+t+'" alt="Alt text"><img src="'+o+'" alt="Alt text"></p><div class="tip custom-block"><p class="custom-block-title">输入ip地址</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">输入地址：`http://${你的服务器IP}:8080`</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div><p><img src="'+r+'" alt="Alt text"> 然后保存成功。</p>',20),b=[d];function u(k,C,A,h,v,y){return n(),a("div",null,b)}const D=s(m,[["render",u]]);export{_ as __pageData,D as default};
